(()=>{"use strict";(new class{constructor(){this.fileContainer=document.querySelector(".file-container"),this.fileInput=this.fileContainer.querySelector(".file-container__overlapped"),this.errors=document.querySelector(".errors-list"),this.images=document.querySelector(".images"),this.imagesList=this.images.querySelector(".images-list")}init(){this.events()}events(){this.fileContainer.addEventListener("click",(()=>this.fileInput.dispatchEvent(new MouseEvent("click")))),this.fileContainer.addEventListener("dragover",(e=>e.preventDefault())),this.fileContainer.addEventListener("drop",(e=>{e.preventDefault(),this.addImages(e.dataTransfer.files)})),this.fileInput.addEventListener("change",(()=>{this.addImages(this.fileInput.files),this.fileInput.value=""})),this.images.addEventListener("click",this.deleteImage.bind(this))}addImages(e){this.errors.innerHTML="",[...e].forEach((e=>{if(!e.type.startsWith("image/")||e.type.includes("vnd"))return void this.showError(e.name);const t=document.createElement("img");t.classList.add("images-item__img"),t.alt=e.name,t.src=URL.createObjectURL(e);const i=document.createElement("li");i.classList.add("images-item");const s=document.createElement("span");s.classList.add("images-item__del"),s.textContent="x";const n=document.createElement("span");n.classList.add("images-item__name"),n.textContent=e.name,i.append(s),i.append(t),i.append(n),this.imagesList.append(i)}))}deleteImage(e){this.errors.innerHTML="";const t=e.target.closest(".images-item__del"),i=e.target.closest(".images-item");t&&i.remove()}showError(e){const t=document.createElement("li");t.innerHTML=`"${e}": this format of file do not suitable`,this.errors.append(t)}}).init()})();